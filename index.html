// ...existing code...
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Discount Calculator</title>
    <style>
        :root{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;line-height:1.4}
        body{max-width:720px;margin:40px auto;padding:20px;border:1px solid #e6e6e6;border-radius:8px}
        h1{margin:0 0 12px;font-size:20px}
        .row{display:flex;gap:12px;align-items:center;margin:10px 0}
        label{min-width:120px}
        input[type="number"], input[type="text"]{flex:1;padding:8px;border-radius:4px;border:1px solid #ccc}
        input[type="range"]{flex:1}
        button{padding:8px 12px;border-radius:4px;border:1px solid #0078d4;background:#0078d4;color:#fff;cursor:pointer}
        button.secondary{background:#f3f3f3;color:#222;border-color:#cfcfcf}
        .result{margin-top:16px;padding:12px;border-radius:6px;background:#f8fdf8;border:1px solid #dff2dd}
        .error{color:#b00020;margin-top:8px}
        .small{font-size:13px;color:#a56a6a}
    </style>
</head>
<body>
    <h1>Discount Calculator</h1>
    <p class="small">Enter original price and discount percentage to see the discounted price and savings.</p>

    <div class="row">
        <label for="price">Original Price</label>
        <input id="price" type="number" step="0.01" min="0" placeholder="0.00" aria-label="Original price" />
    </div>

    <div class="row">
        <label for="percent">Discount %</label>
        <input id="percent" type="number" step="0.1" min="0" max="100" placeholder="10" aria-label="Discount percentage" />
    </div>

    <div class="row">
        <label for="pctRange">Adjust %</label>
        <input id="pctRange" type="range" min="0" max="100" step="0.1" value="10" aria-label="Discount percentage slider" />
    </div>

    <div class="row">
        <button id="calc">Calculate</button>
        <button id="clear" class="secondary" type="button">Clear</button>
    </div>

    <div id="message" class="error" role="status" aria-live="polite"></div>

    <div id="output" class="result" aria-live="polite" hidden>
        <div><strong>Discounted price:</strong> <span id="discounted"></span></div>
        <div><strong>Savings:</strong> <span id="savings"></span></div>
        <div class="small"><strong>Applied discount:</strong> <span id="appliedPercent"></span>%</div>
    </div>

    <script>
        const priceEl = document.getElementById('price');
        const pctEl = document.getElementById('percent');
        const rangeEl = document.getElementById('pctRange');
        const calcBtn = document.getElementById('calc');
        const clearBtn = document.getElementById('clear');
        const output = document.getElementById('output');
        const discountedEl = document.getElementById('discounted');
        const savingsEl = document.getElementById('savings');
        const appliedPercentEl = document.getElementById('appliedPercent');
        const messageEl = document.getElementById('message');

        function validateInputs(price, pct) {
            if (isNaN(price) || price < 0) return 'Enter a valid non-negative price.';
            if (isNaN(pct) || pct < 0 || pct > 100) return 'Discount must be between 0 and 100.';
            return '';
        }

        function computeAndShow() {
            const price = parseFloat(priceEl.value);
            const pct = parseFloat(pctEl.value);
            const err = validateInputs(price, pct);
            messageEl.textContent = err;
            if (err) { output.hidden = true; return; }

            const discountAmount = +(price * (pct / 100));
            const discountedPrice = +(price - discountAmount);

            discountedEl.textContent = discountedPrice.toFixed(2);
            savingsEl.textContent = discountAmount.toFixed(2);
            appliedPercentEl.textContent = +pct.toFixed(2);
            output.hidden = false;
        }

        // keep number input and range in sync
        pctEl.addEventListener('input', () => {
            const v = pctEl.value;
            if (v === '') return;
            rangeEl.value = v;
        });
        rangeEl.addEventListener('input', () => {
            pctEl.value = rangeEl.value;
            computeAndShow();
        });

        // calculate on button, Enter key, and when price changes
        calcBtn.addEventListener('click', computeAndShow);
        priceEl.addEventListener('input', () => { if (priceEl.value === '') { output.hidden = true; messageEl.textContent = ''; } });
        [priceEl, pctEl].forEach(el => el.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                computeAndShow();
            }
        }));

        clearBtn.addEventListener('click', () => {
            priceEl.value = '';
            pctEl.value = '';
            rangeEl.value = 10;
            output.hidden = true;
            messageEl.textContent = '';
        });

        // initialize default values
        pctEl.value = 10;
        rangeEl.value = 10;
    </script>
</body>
</html>
// ...existing code...
